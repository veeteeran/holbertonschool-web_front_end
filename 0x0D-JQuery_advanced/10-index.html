<!DOCTYPE html>
<html lang="en" dir="ltr">

    <head>

        <meta charset="utf-8" />
        <script type="application/javascript"
                src="https://code.jquery.com/jquery-3.5.1.min.js"
                integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
                crossorigin="anonymous"></script>
        <title>Task 10</title>
    </head>

    <body>
        <script>
            const addPostRow = data => {
                $("body").append(
                    `<p><span>Post created with id ${data.id}, title: ${data.title}, author: ${data.author}</span></p>`
                );
            }

            const listPosts = () => {
                const url = "http://localhost:3000/posts"
                /*$.ajax({
                    url:url,
                    success: response => response.forEach(data => addPostRow(data)),
                    error: () => alert('Server Error')
                })*/
                $.get(
                    url,
                    (data, status) => {
                        if (status === 'success') {
                            data.forEach(data => addPostRow(data));
                        }
                    }
                )
                .fail(() => alert('Server Error'))
            }
            $(document).ready(() => {
                listPosts();
            });
        </script>
    </body>

</html>